import{F as y,a as g}from"./FadeLoader.aa004447.js";import{_ as f,c,b as e,d as w,e as L,t as p,F as u,r as v,o as r,p as C,f as P,g as A}from"./index.f7cdc2ef.js";const x={components:{FadeLoader:y},mixins:[],props:{},data(){return{mdText:"",categories:new Array,categoryNames:new Array,postingLength:0,isLoading:!1}},computed:{},presets:{},watch:{},created(){},async mounted(){this.fetchPosts()},methods:{async fetchPosts(){this.isLoading=!0;let s=new Array;await g.get("https://api.github.com/repos/hdomi/posts/contents").then(t=>s=t.data).catch(t=>console.log(`Category ERROR\u{1F644} ${t.response.status} : ${t.request.responseURL}`)),s.forEach(async t=>{if(t.name!=="img"){this.categoryNames.push(t.name);let d=await this.getPosts(t.name);this.categories.push({name:t.name,posts:d})}}),this.isLoading=!1},getPosts(s){return new Promise(t=>{let d=new Array,l=new Array,n=new Array;g.get(`https://api.github.com/repos/hdomi/posts/contents/${s}`).then(_=>{d=_.data,d.forEach(o=>{if(o.name!=="img"){const i=o.name.split("-"),a=i[2].replace(".md","");l.push({name:o.name,title:i[0],date:i[1],description:a})}}),this.postingLength=this.postingLength+l.length,n=l.sort(h);function h(o,i){var a=new Date(o.date).getTime(),m=new Date(i.date).getTime();return a>m?-1:1}t(n)})})},goPost(s,t){this.$router.push({path:"/posting",query:{mdPath:`${s}`,mdId:`${t}`}})}}};const D=s=>(C("data-v-cec3479c"),s=s(),P(),s),$={class:"page-wrap2 scrollBar"},k={key:0,class:"loading-container"},F={class:"loading"},E={class:"page-wrap-inner"},B={class:"page-tit-wrap"},I=D(()=>e("div",{class:"main-title"},"\uD3EC\uC2A4\uD305",-1)),N={class:"main-title",style:{"font-size":"14px"}},S={class:"category-title"},R={class:"posting-item-wrap"},b=["onClick"],T={class:"pt-item-inner"},V={class:"pt-item-title"},q={class:"pt-item-text"},z={class:"pt-item-date"},O={class:"pt-item-desc"};function U(s,t,d,l,n,_){const h=A("FadeLoader");return r(),c("div",$,[n.isLoading?(r(),c("div",k,[e("div",F,[w(h)])])):L("",!0),e("div",E,[e("div",B,[I,e("div",N,"\uCD1D \uD3EC\uC2A4\uD305 \uC218 ("+p(n.postingLength)+"\uAC1C)",1)]),(r(!0),c(u,null,v(n.categories,(o,i)=>(r(),c("div",{key:`category${i}`,class:"category-wrap"},[e("div",S,p(o.name),1),e("div",R,[(r(!0),c(u,null,v(o.posts,(a,m)=>(r(),c("div",{key:`post${m}`,onClick:j=>_.goPost(o.name,a.name),class:"posting-item"},[e("div",T,[e("div",V,p(a.title),1),e("div",q,[e("div",z,p(a.date),1),e("div",O,p(a.description),1)])])],8,b))),128))])]))),128))])])}const J=f(x,[["render",U],["__scopeId","data-v-cec3479c"]]);export{J as default};
