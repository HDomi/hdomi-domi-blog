import{u as useToast,_ as _export_sfc,c as createElementBlock,a as createBaseVNode,t as toDisplayString,d as createCommentVNode,w as withDirectives,g as vModelText,F as Fragment,r as renderList,h as createTextVNode,o as openBlock,i as vModelCheckbox,p as pushScopeId,f as popScopeId}from"./index.aa0381a6.js";const toast=useToast(),MakeToast=(e,s,n)=>{toast[s](e,{timeout:n})},MakeToast$1=MakeToast,_sfc_main={components:{},mixins:[],props:{panelState:Boolean},data(){var e;return{uploadJs:[],showQuestionArr:[],examplePrefix:["A","B","C","D","E","F","G"],allQuestionNum:0,onlyAnswer:!1,correctAnswers:0,savedDumps:[],saveQuestionTitle:"",nowQuestionNum:0,question:"",examples:[],answers:[],checkedExamples:new Array((e=this.examples)==null?void 0:e.length).fill(!1)}},computed:{},presets:{},watch:{uploadJs(){this.uploadJs.length&&(this.showQuestionArr=this.uploadJs,this.allQuestionNum=this.uploadJs.length,this.nowQuestionNum=1,this.correctAnswers=0)},nowQuestionNum(){this.initExample()}},mounted(){this.getDumps()},methods:{handleFileUpload(event){var e;const inputElement=event.target,file=(e=inputElement.files)==null?void 0:e[0];if(file){const reader=new FileReader;reader.onload=()=>{try{const fileContents=reader.result,parsedArray=eval(fileContents);Array.isArray(parsedArray)?this.uploadJs=parsedArray:console.error("File does not contain a valid array.")}catch(s){console.error("Error parsing file:",s)}},reader.readAsText(file)}},downloadExampleFile(){const e=[{number:1,question:"\uBB38\uC81C",examples:["\uB2F5\uC5481","\uB2F5\uC5482","\uB2F5\uC5483","\uB2F5\uC5484"],answers:["A"]},{number:2,question:"\uBB38\uC81C1",examples:["\uB2F5\uC5481","\uB2F5\uC5482","\uB2F5\uC5483","\uB2F5\uC5484"],answers:["A"]},{number:3,question:"\uBB38\uC81C2",examples:["\uB2F5\uC5481","\uB2F5\uC5482","\uB2F5\uC5483","\uB2F5\uC5484"],answers:["A"]}],s=JSON.stringify(e,null,2),n=new Blob([s],{type:"application/json"}),a=URL.createObjectURL(n),o=document.createElement("a");o.href=a,o.download="example.js",o.click(),URL.revokeObjectURL(a)},initExample(){this.setQuestion(),this.setExamples(),this.setAnswers()},setQuestion(){this.question=this.showQuestionArr[this.nowQuestionNum-1].question},setExamples(){this.examples=this.showQuestionArr[this.nowQuestionNum-1].examples,setTimeout(()=>{const e=[];this.examples.forEach((s,n)=>{e.push({prefix:this.examplePrefix[n],text:s})}),this.examples=this.shuffleArray(e)},100)},setAnswers(){this.answers=this.showQuestionArr[this.nowQuestionNum-1].answers},getDumps(){const e=localStorage.getItem("SAVE_DUMPS");e!==null?this.savedDumps=JSON.parse(e):this.savedDumps=[]},onClickSavedDumps(e){this.uploadJs=[],this.showQuestionArr=[],setTimeout(()=>{var n;const s=this.savedDumps[e];this.uploadJs=s.dump,this.checkedExamples=new Array((n=this.examples)==null?void 0:n.length).fill(!1),MakeToast$1(`${s.title}\uC774(\uAC00) \uBD88\uB7EC\uC640\uC84C\uC2B5\uB2C8\uB2E4.`,"success",1e3)},100)},saveQuestions(){this.savedDumps.push({title:this.saveQuestionTitle,dump:this.uploadJs}),localStorage.setItem("SAVE_DUMPS",JSON.stringify(this.savedDumps)),this.saveQuestionTitle="",MakeToast$1(`${this.saveQuestionTitle}\uC774(\uAC00) \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`,"success",1e3)},deleteDump(e){const s=this.savedDumps[e],n=this.savedDumps.filter((a,o)=>o!==e);localStorage.setItem("SAVE_DUMPS",JSON.stringify(n)),MakeToast$1(`${s.title}\uC774(\uAC00) \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`,"success",1e3),this.getDumps()},clickExample(e){this.checkedExamples[e]=!this.checkedExamples[e],this.checkedExamples[e]||this.clearRefForIndex(e)},onPrevious(){this.nowQuestionNum>1&&(this.clearExampleRef(),this.nowQuestionNum=this.nowQuestionNum-1)},onNext(){this.nowQuestionNum<this.showQuestionArr.length&&(this.clearExampleRef(),this.nowQuestionNum=this.nowQuestionNum+1)},getNoChecked(){return this.checkedExamples.some(s=>s)},changeOnlyAnswer(){this.onlyAnswer=!this.onlyAnswer},clearRefForIndex(e){const s=this.$refs.example;s[e].classList=["example"]},randomQuestion(){this.clearQuestion(),this.clearExampleRef(),setTimeout(()=>{this.showQuestionArr=this.shuffleArray(this.showQuestionArr),this.initExample()},100)},shuffleArray(e){return e.sort(()=>Math.random()-.5)},retryQuestion(){this.question="",this.examples=[],this.answers=[],setTimeout(()=>{var e;this.initExample(),this.checkedExamples=new Array((e=this.examples)==null?void 0:e.length).fill(!1)},100)},clearQuestion(){this.nowQuestionNum=1,this.question="",this.examples=[],this.answers=[]},clearExampleRef(){var e;this.checkedExamples=new Array((e=this.examples)==null?void 0:e.length).fill(!1),this.examples.forEach((s,n)=>{this.clearRefForIndex(n)})},checkAnswer(){this.examples.forEach((t,l)=>{this.clearRefForIndex(l)});const e=this.checkedExamples.map((t,l)=>t?l:-1).reduce((t,l)=>(l!==-1&&t.push(l),t),[]),s=[];e.forEach(t=>{s.push(this.examples[t].prefix)});const n=this.answers.slice().sort(),a=s.slice().sort(),o=n.length===a.length&&n.every((t,l)=>t===a[l]),i=this.$refs.example;o?(MakeToast$1("\uC815\uB2F5!","success",1e3),e.forEach(t=>{i[t].classList.add("success"),this.correctAnswers=this.correctAnswers+1})):(MakeToast$1("\uB561!","error",1e3),e.forEach(t=>{i[t].classList.add("fail")}))}}},_imports_0=""+new URL("ic_download.64a58982.svg",import.meta.url).href,_imports_1=""+new URL("ic_del.9b72e127.svg",import.meta.url).href,DumpTester_vue_vue_type_style_index_0_scoped_3cf5ea30_lang="",_withScopeId=e=>(pushScopeId("data-v-3cf5ea30"),e=e(),popScopeId(),e),_hoisted_1={class:"page-wrap",style:{"margin-bottom":"60px"}},_hoisted_2={class:"upload-wrap"},_hoisted_3={class:"upload-test-wrap"},_hoisted_4={class:"file-wrap"},_hoisted_5={class:"filebox"},_hoisted_6=_withScopeId(()=>createBaseVNode("label",{for:"ex_file"},"\uD30C\uC77C \uC5C5\uB85C\uB4DC",-1)),_hoisted_7={key:0,class:"score-wrap"},_hoisted_8={class:"save-question"},_hoisted_9=["disabled"],_hoisted_10={class:"saved-question"},_hoisted_11=["onClick"],_hoisted_12=["onClick"],_hoisted_13={key:0,class:"example-wrap"},_hoisted_14={class:"question-num"},_hoisted_15={class:"question-title"},_hoisted_16={key:0,style:{color:"blue"}},_hoisted_17={key:1,style:{color:"red"}},_hoisted_18=["innerHTML"],_hoisted_19=["onClick"],_hoisted_20=["onUpdate:modelValue"],_hoisted_21=["innerHTML"],_hoisted_22={key:1},_hoisted_23={key:2,class:"btn-wrap"},_hoisted_24=["disabled"],_hoisted_25=["disabled"],_hoisted_26=["disabled"],_hoisted_27=["disabled"];function _sfc_render(e,s,n,a,o,i){return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createBaseVNode("button",{style:{"margin-right":"10px"},onClick:s[0]||(s[0]=(...t)=>i.downloadExampleFile&&i.downloadExampleFile(...t))}," Dump\uC608\uC81C \uB2E4\uC6B4\uB85C\uB4DC "),createBaseVNode("div",_hoisted_5,[_hoisted_6,createBaseVNode("input",{type:"file",accept:".js",id:"ex_file",onChange:s[1]||(s[1]=(...t)=>i.handleFileUpload&&i.handleFileUpload(...t))},null,32)])]),o.uploadJs.length?(openBlock(),createElementBlock("div",_hoisted_7," \uC815\uB2F5 \uAC2F\uC218 : "+toDisplayString(o.correctAnswers),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=t=>o.saveQuestionTitle=t),style:{height:"23px"},placeholder:"\uC81C\uBAA9\uC744 \uC785\uB825\uD558\uC138\uC694."},null,512),[[vModelText,o.saveQuestionTitle]]),createBaseVNode("button",{onClick:s[3]||(s[3]=(...t)=>i.saveQuestions&&i.saveQuestions(...t)),disabled:!o.uploadJs.length||o.saveQuestionTitle===""}," \uC5C5\uB85C\uB4DC\uB41C \uBB38\uC81C \uC800\uC7A5 ",8,_hoisted_9)])]),createBaseVNode("div",_hoisted_10,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.savedDumps,(t,l)=>(openBlock(),createElementBlock("div",{key:l,class:"dump-item"},[createTextVNode(toDisplayString(t.title)+" ",1),createBaseVNode("img",{src:_imports_0,class:"delete-saved",onClick:u=>i.onClickSavedDumps(l)},null,8,_hoisted_11),createBaseVNode("img",{src:_imports_1,class:"delete-saved",onClick:u=>i.deleteDump(l)},null,8,_hoisted_12)]))),128))])]),o.uploadJs.length?(openBlock(),createElementBlock("div",_hoisted_13,[createBaseVNode("div",_hoisted_14,[createBaseVNode("div",_hoisted_15," Question: #"+toDisplayString(o.nowQuestionNum)+"/"+toDisplayString(o.allQuestionNum),1),createBaseVNode("div",null,[createBaseVNode("button",{onClick:s[4]||(s[4]=(...t)=>i.changeOnlyAnswer&&i.changeOnlyAnswer(...t)),style:{"margin-right":"10px"}},[createTextVNode(" \uC815\uB2F5\uB9CC \uBCF4\uAE30 "),o.onlyAnswer?(openBlock(),createElementBlock("span",_hoisted_16,"(ON)")):(openBlock(),createElementBlock("span",_hoisted_17,"(OFF)"))]),createBaseVNode("button",{onClick:s[5]||(s[5]=(...t)=>i.randomQuestion&&i.randomQuestion(...t))},"\uBB38\uC81C\uC11E\uAE30")])]),createBaseVNode("p",{class:"question",innerHTML:o.question},null,8,_hoisted_18),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.examples,(t,l)=>(openBlock(),createElementBlock("div",{ref_for:!0,ref:"example",class:"example",key:l,onClick:u=>i.clickExample(l)},[withDirectives(createBaseVNode("input",{class:"example-ck",type:"checkbox","onUpdate:modelValue":u=>o.checkedExamples[l]=u},null,8,_hoisted_20),[[vModelCheckbox,o.checkedExamples[l]]]),createBaseVNode("div",{innerHTML:`${o.examplePrefix[l]}. ${t.text}`},null,8,_hoisted_21)],8,_hoisted_19))),128))])):(openBlock(),createElementBlock("div",_hoisted_22,"\uBB38\uC81C\uB97C \uC5C5\uB85C\uB4DC\uD558\uAC70\uB098 \uBD88\uB7EC\uC640\uC8FC\uC138\uC694.")),o.uploadJs.length?(openBlock(),createElementBlock("div",_hoisted_23,[createBaseVNode("button",{class:"prev",disabled:o.nowQuestionNum<=1,onClick:s[6]||(s[6]=(...t)=>i.onPrevious&&i.onPrevious(...t))}," < ",8,_hoisted_24),createBaseVNode("button",{onClick:s[7]||(s[7]=(...t)=>i.checkAnswer&&i.checkAnswer(...t)),disabled:o.examples.length===0||!i.getNoChecked()}," \uC815\uB2F5\uD655\uC778 ",8,_hoisted_25),createBaseVNode("button",{onClick:s[8]||(s[8]=(...t)=>i.retryQuestion&&i.retryQuestion(...t)),disabled:o.examples.length===0}," \uB2E4\uC2DC\uD480\uAE30 ",8,_hoisted_26),createBaseVNode("button",{class:"prev",disabled:o.nowQuestionNum===o.uploadJs.length,onClick:s[9]||(s[9]=(...t)=>i.onNext&&i.onNext(...t))}," > ",8,_hoisted_27)])):createCommentVNode("",!0)])}const DumpTester=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-3cf5ea30"]]);export{DumpTester as default};
