import{a as g}from"./axios.f257fe29.js";import{_ as y,c as d,b as s,t as p,F as u,r as v,o as h,p as w,d as f}from"./index.ee91b029.js";const C={components:{},mixins:[],props:{},data(){return{mdText:"",categories:new Array,categoryNames:new Array,postingLength:0}},computed:{},presets:{},watch:{},created(){},async mounted(){this.fetchPosts()},methods:{async fetchPosts(){let e=new Array;await g.get("https://api.github.com/repos/hdomi/posts/contents").then(t=>e=t.data).catch(t=>console.log(`Category ERROR\u{1F644} ${t.response.status} : ${t.request.responseURL}`)),e.forEach(async t=>{if(t.name!=="img"){this.categoryNames.push(t.name);let i=await this.getPosts(t.name);this.categories.push({name:t.name,posts:i})}})},getPosts(e){return new Promise(t=>{let i=new Array,m=new Array,n=new Array;g.get(`https://api.github.com/repos/hdomi/posts/contents/${e}`).then(_=>{i=_.data,i.forEach(o=>{if(o.name!=="img"){const a=o.name.split("-"),r=a[2].replace(".md","");m.push({name:o.name,title:a[0],date:a[1],description:r})}}),this.postingLength=this.postingLength+m.length,n=m.sort(c);function c(o,a){var r=new Date(o.date).getTime(),l=new Date(a.date).getTime();return r>l?-1:1}t(n)})})},goPost(e,t){this.$router.push({path:"/posting",query:{mdPath:`${e}`,mdId:`${t}`}})}}};const P=e=>(w("data-v-c1c3955a"),e=e(),f(),e),A={class:"page-wrap2 scrollBar"},$={class:"page-wrap-inner"},x={class:"page-tit-wrap"},D=P(()=>s("div",{class:"main-title"},"\uD3EC\uC2A4\uD305",-1)),L={class:"main-title",style:{"font-size":"14px"}},k={class:"category-title"},E={class:"posting-item-wrap"},B=["onClick"],I={class:"pt-item-inner"},S={class:"pt-item-title"},R={class:"pt-item-text"},b={class:"pt-item-date"},F={class:"pt-item-desc"};function N(e,t,i,m,n,_){return h(),d("div",A,[s("div",$,[s("div",x,[D,s("div",L,"\uCD1D \uD3EC\uC2A4\uD305 \uC218 ("+p(n.postingLength)+"\uAC1C)",1)]),(h(!0),d(u,null,v(n.categories,(c,o)=>(h(),d("div",{key:`category${o}`,class:"category-wrap"},[s("div",k,p(c.name),1),s("div",E,[(h(!0),d(u,null,v(c.posts,(a,r)=>(h(),d("div",{key:`post${r}`,onClick:l=>_.goPost(c.name,a.name),class:"posting-item"},[s("div",I,[s("div",S,p(a.title),1),s("div",R,[s("div",b,p(a.date),1),s("div",F,p(a.description),1)])])],8,B))),128))])]))),128))])])}const z=y(C,[["render",N],["__scopeId","data-v-c1c3955a"]]);export{z as default};
